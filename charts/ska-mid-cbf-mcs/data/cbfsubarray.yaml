name: cbfsubarray
function: cbf-subarray-observation
domain: subarray
command: "CbfSubarray"
instances: ["cbfsubarray-01", "cbfsubarray-02", "cbfsubarray-03"]
depends_on:
  - device: mid_csp_cbf/sub_elt/controller
readinessProbe:
  initialDelaySeconds: 0
  periodSeconds: 10
  timeoutSeconds: 5
  successThreshold: 1
  failureThreshold: 3
livenessProbe:
  initialDelaySeconds: 0
  periodSeconds: 10
  timeoutSeconds: 5
  successThreshold: 1
  failureThreshold: 3
server:
  name: "CbfSubarray"
  instances:
  - name: "cbfsubarray-01"
    classes:
    - name: "CbfSubarray"
      devices:
      - name: "mid_csp_cbf/sub_elt/subarray_01"
        attribute_properties:
        - attribute: "adminMode"
          properties: 
          - name: "abs_change"
            values: 
            - "-1"
            - "1"
        - attribute: "healthState"
          properties:
          - name: "abs_change"
            values: 
            - "-1"
            - "1"
        - attribute: "obsState"
          properties:
          - name: "abs_change"
            values: 
            - "-1"
            - "1"
        - attribute: "scanID"
          properties:
          - name: "abs_change"
            values: 
            - "-1"
            - "1"
        properties:
          - name: "CbfControllerAddress"
            values:
            - "mid_csp_cbf/sub_elt/controller"
          - name: "FSP"
            values:
            - "mid_csp_cbf/fsp/01"
            - "mid_csp_cbf/fsp/02"
            - "mid_csp_cbf/fsp/03"
            - "mid_csp_cbf/fsp/04"
          - name: "FspCorrSubarrayDevice"
            values:
            - "mid_csp_cbf/fspCorrSubarrayDevice/01_01"
            - "mid_csp_cbf/fspCorrSubarrayDevice/02_01"
            - "mid_csp_cbf/fspCorrSubarrayDevice/03_01"
            - "mid_csp_cbf/fspCorrSubarrayDevice/04_01"
          - name: "FspPssSubarrayDevice"
            values:
            - "mid_csp_cbf/fspPssSubarrayDevice/01_01"
            - "mid_csp_cbf/fspPssSubarrayDevice/02_01"
            - "mid_csp_cbf/fspPssSubarrayDevice/03_01"
            - "mid_csp_cbf/fspPssSubarrayDevice/04_01"
          - name: "FspPstSubarrayDevice"
            values:
            - "mid_csp_cbf/fspPstSubarrayDevice/01_01"
            - "mid_csp_cbf/fspPstSubarrayDevice/02_01"
            - "mid_csp_cbf/fspPstSubarrayDevice/03_01"
            - "mid_csp_cbf/fspPstSubarrayDevice/04_01"
          - name: "SW1Address"
            values:
            - "mid_csp_cbf/sw1/001"
          - name: "SW2Address"
            values:
            - "mid_csp_cbf/sw2/001"
          - name: "CorrConfigAddress"
            values:
            - "mid_csp_cbf/corrconfig/01"
          - name: "PssConfigAddress"
            values:
            - "mid_csp_cbf/pssconfig/01"
          - name: "PstConfigAddress"
            values:
            - "mid_csp_cbf/pstconfig/01"
          - name: "SubID"
            values:
            - "1"
          - name: "VCC"
            values:
            - "mid_csp_cbf/vcc/001"
            - "mid_csp_cbf/vcc/002"
            - "mid_csp_cbf/vcc/003"
            - "mid_csp_cbf/vcc/004"
          - name: "polled_attr"
            values:
            - "state"
            - "3000"
            - "healthstate"
            - "3000"
            - "adminmode"
            - "3000"
            - "fsphealthstate"
            - "3000"
            - "fspstate"
            - "3000"
            - "vccstate"
            - "3000"
            - "vcchealthstate"
            - "3000"
            - "obsstate"
            - "50"
            - "configid"
            - "3000"
            - "fspList"
            - "3000"
            - "outputLinkDistribution"
            - "3000"

  - name: "cbfsubarray-02"
    classes:
    - name: "CbfSubarray"
      devices:
      - name: "mid_csp_cbf/sub_elt/subarray_02"
        attribute_properties:
        - attribute: "adminMode"
          properties: 
          - name: "abs_change"
            values: 
            - "-1"
            - "1"
        - attribute: "healthState"
          properties:
          - name: "abs_change"
            values: 
            - "-1"
            - "1"
        - attribute: "obsState"
          properties:
          - name: "abs_change"
            values: 
            - "-1"
            - "1"
        - attribute: "scanID"
          properties:
          - name: "abs_change"
            values: 
            - "-1"
            - "1"
        properties:
          - name: "CbfControllerAddress"
            values:
            - "mid_csp_cbf/sub_elt/controller"
          - name: "FSP"
            values:
            - "mid_csp_cbf/fsp/01"
            - "mid_csp_cbf/fsp/02"
            - "mid_csp_cbf/fsp/03"
            - "mid_csp_cbf/fsp/04"
          - name: "FspCorrSubarrayDevice"
            values:
            - "mid_csp_cbf/fspCorrSubarrayDevice/01_02"
            - "mid_csp_cbf/fspCorrSubarrayDevice/02_02"
            - "mid_csp_cbf/fspCorrSubarrayDevice/03_02"
            - "mid_csp_cbf/fspCorrSubarrayDevice/04_02"
          - name: "FspPssSubarrayDevice"
            values:
            - "mid_csp_cbf/fspPssSubarrayDevice/01_02"
            - "mid_csp_cbf/fspPssSubarrayDevice/02_02"
            - "mid_csp_cbf/fspPssSubarrayDevice/03_02"
            - "mid_csp_cbf/fspPssSubarrayDevice/04_02"
          - name: "FspPstSubarrayDevice"
            values:
            - "mid_csp_cbf/fspPstSubarrayDevice/01_02"
            - "mid_csp_cbf/fspPstSubarrayDevice/02_02"
            - "mid_csp_cbf/fspPstSubarrayDevice/03_02"
            - "mid_csp_cbf/fspPstSubarrayDevice/04_02"
          - name: "SW1Address"
            values:
            - "mid_csp_cbf/sw1/002"
          - name: "SW2Address"
            values:
            - "mid_csp_cbf/sw2/002"
          - name: "CorrConfigAddress"
            values:
            - "mid_csp_cbf/corrconfig/02"
          - name: "PssConfigAddress"
            values:
            - "mid_csp_cbf/pssconfig/02"
          - name: "PstConfigAddress"
            values:
            - "mid_csp_cbf/pstconfig/02"
          - name: "SubID"
            values:
            - "2"
          - name: "VCC"
            values:
            - "mid_csp_cbf/vcc/001"
            - "mid_csp_cbf/vcc/002"
            - "mid_csp_cbf/vcc/003"
            - "mid_csp_cbf/vcc/004"
          - name: "polled_attr"
            values:
            - "state"
            - "3000"
            - "healthstate"
            - "3000"
            - "adminmode"
            - "3000"
            - "fsphealthstate"
            - "3000"
            - "fspstate"
            - "3000"
            - "vccstate"
            - "3000"
            - "vcchealthstate"
            - "3000"
            - "obsstate"
            - "50"
            - "configid"
            - "3000"
            - "fspList"
            - "3000"
            - "outputLinkDistribution"
            - "3000"

  - name: "cbfsubarray-03"
    classes:
    - name: "CbfSubarray"
      devices:
      - name: "mid_csp_cbf/sub_elt/subarray_03"
        attribute_properties:
        - attribute: "adminMode"
          properties: 
          - name: "abs_change"
            values: 
            - "-1"
            - "1"
        - attribute: "healthState"
          properties:
          - name: "abs_change"
            values: 
            - "-1"
            - "1"
        - attribute: "obsState"
          properties:
          - name: "abs_change"
            values: 
            - "-1"
            - "1"
        - attribute: "scanID"
          properties:
          - name: "abs_change"
            values: 
            - "-1"
            - "1"
        properties:
          - name: "CbfControllerAddress"
            values:
            - "mid_csp_cbf/sub_elt/controller"
          - name: "FSP"
            values:
            - "mid_csp_cbf/fsp/01"
            - "mid_csp_cbf/fsp/02"
            - "mid_csp_cbf/fsp/03"
            - "mid_csp_cbf/fsp/04"
          - name: "FspCorrSubarrayDevice"
            values:
            - "mid_csp_cbf/fspCorrSubarrayDevice/01_03"
            - "mid_csp_cbf/fspCorrSubarrayDevice/02_03"
            - "mid_csp_cbf/fspCorrSubarrayDevice/03_03"
            - "mid_csp_cbf/fspCorrSubarrayDevice/04_03"
          - name: "FspPssSubarrayDevice"
            values:
            - "mid_csp_cbf/fspPssSubarrayDevice/01_03"
            - "mid_csp_cbf/fspPssSubarrayDevice/02_03"
            - "mid_csp_cbf/fspPssSubarrayDevice/03_03"
            - "mid_csp_cbf/fspPssSubarrayDevice/04_03"
          - name: "FspPstSubarrayDevice"
            values:
            - "mid_csp_cbf/fspPstSubarrayDevice/01_03"
            - "mid_csp_cbf/fspPstSubarrayDevice/02_03"
            - "mid_csp_cbf/fspPstSubarrayDevice/03_03"
            - "mid_csp_cbf/fspPstSubarrayDevice/04_03"
          - name: "SW1Address"
            values:
            - "mid_csp_cbf/sw1/003"
          - name: "SW2Address"
            values:
            - "mid_csp_cbf/sw2/003"
          - name: "CorrConfigAddress"
            values:
            - "mid_csp_cbf/corrconfig/03"
          - name: "PssConfigAddress"
            values:
            - "mid_csp_cbf/pssconfig/03"
          - name: "PstConfigAddress"
            values:
            - "mid_csp_cbf/pstconfig/03"
          - name: "SubID"
            values:
            - "3"
          - name: "VCC"
            values:
            - "mid_csp_cbf/vcc/001"
            - "mid_csp_cbf/vcc/002"
            - "mid_csp_cbf/vcc/003"
            - "mid_csp_cbf/vcc/004"
          - name: "polled_attr"
            values:
            - "state"
            - "3000"
            - "healthstate"
            - "3000"
            - "adminmode"
            - "3000"
            - "fsphealthstate"
            - "3000"
            - "fspstate"
            - "3000"
            - "vccstate"
            - "3000"
            - "vcchealthstate"
            - "3000"
            - "obsstate"
            - "50"
            - "configid"
            - "3000"
            - "fspList"
            - "3000"
            - "outputLinkDistribution"
            - "3000"
image:
  registry: "{{.Values.midcbf.image.registry}}"
  image: "{{.Values.midcbf.image.image}}"
  tag: "{{.Values.midcbf.image.tag}}"
  pullPolicy: "{{.Values.midcbf.image.pullPolicy}}"
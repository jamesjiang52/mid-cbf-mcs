name: cbfsubarray
function: cbf-subarray-observation
domain: subarray
command: "CbfSubarray"
instances: ["cbfsubarray"]
depends_on:
  - device: mid_csp_cbf/sub_elt/controller
readinessProbe:
  initialDelaySeconds: 0
  periodSeconds: 10
  timeoutSeconds: 5
  successThreshold: 1
  failureThreshold: 3
livenessProbe:
  initialDelaySeconds: 0
  periodSeconds: 10
  timeoutSeconds: 5
  successThreshold: 1
  failureThreshold: 3
server:
  name: "CbfSubarray"
  instances:
  - name: "cbfsubarray"
    classes:
    - name: "CbfSubarray"
      devices:
      - name: "mid_csp_cbf/sub_elt/subarray_01"
        attribute_properties:
        - attribute: "scanID"
          properties:
          - name: "abs_change"
            values:
            - "-1"
            - "1"
        properties:
          - name: "CbfControllerAddress"
            values:
            - "mid_csp_cbf/sub_elt/controller"
          - name: "FSP"
            values:
            - "mid_csp_cbf/fsp/01"
            - "mid_csp_cbf/fsp/02"
            - "mid_csp_cbf/fsp/03"
            - "mid_csp_cbf/fsp/04"
          - name: "FspCorrSubarray"
            values:
            - "mid_csp_cbf/fspCorrSubarray/01_01"
            - "mid_csp_cbf/fspCorrSubarray/02_01"
            - "mid_csp_cbf/fspCorrSubarray/03_01"
            - "mid_csp_cbf/fspCorrSubarray/04_01"
          - name: "FspPssSubarray"
            values:
            - "mid_csp_cbf/fspPssSubarray/01_01"
            - "mid_csp_cbf/fspPssSubarray/02_01"
            - "mid_csp_cbf/fspPssSubarray/03_01"
            - "mid_csp_cbf/fspPssSubarray/04_01"
          - name: "FspPstSubarray"
            values:
            - "mid_csp_cbf/fspPstSubarray/01_01"
            - "mid_csp_cbf/fspPstSubarray/02_01"
            - "mid_csp_cbf/fspPstSubarray/03_01"
            - "mid_csp_cbf/fspPstSubarray/04_01"
          - name: "SW1Address"
            values:
            - "mid_csp_cbf/sw1/001"
          - name: "SW2Address"
            values:
            - "mid_csp_cbf/sw2/001"
          - name: "CorrConfigAddress"
            values:
            - "mid_csp_cbf/corrconfig/01"
          - name: "PssConfigAddress"
            values:
            - "mid_csp_cbf/pssconfig/01"
          - name: "PstConfigAddress"
            values:
            - "mid_csp_cbf/pstconfig/01"
          - name: "SubID"
            values:
            - "1"
          - name: "VCC"
            values:
            - "mid_csp_cbf/vcc/001"
            - "mid_csp_cbf/vcc/002"
            - "mid_csp_cbf/vcc/003"
            - "mid_csp_cbf/vcc/004"
          - name: "TalonBoard"
            values:
            - "mid_csp_cbf/talon_board/001"
            - "mid_csp_cbf/talon_board/002"
            - "mid_csp_cbf/talon_board/003"
            - "mid_csp_cbf/talon_board/004"
            - "mid_csp_cbf/talon_board/005"
            - "mid_csp_cbf/talon_board/006"
            - "mid_csp_cbf/talon_board/007"
            - "mid_csp_cbf/talon_board/008"
          - name: "VisSLIM"
            values:
            - "mid_csp_cbf/slim/slim-vis"
image:
  registry: "{{.Values.midcbf.image.registry}}"
  image: "{{.Values.midcbf.image.image}}"
  tag: "{{.Values.midcbf.image.tag}}"
  pullPolicy: "{{.Values.midcbf.image.pullPolicy}}"
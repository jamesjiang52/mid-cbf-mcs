name: powerswitch
function: power-switch
domain: mid-csp-cbf
command: "PowerSwitch"
instances: ["powerswitch-001", "powerswitch-002", "powerswitch-003"]
depends_on:
  - device: sys/database/2
readinessProbe:
  initialDelaySeconds: 0
  periodSeconds: 10
  timeoutSeconds: 5
  successThreshold: 1
  failureThreshold: 3
livenessProbe:
  initialDelaySeconds: 0
  periodSeconds: 10
  timeoutSeconds: 5
  successThreshold: 1
  failureThreshold: 3
server:
  name: "PowerSwitch"
  instances:
  - name: "powerswitch-001"
    classes:
    - name: "PowerSwitch"
      devices:
      - name: "mid_csp_cbf/power_switch/001"
        properties:
          - name: "PowerSwitchModel"
            values:
            - "DLI LPC9"
          - name: "PowerSwitchIp"
            values:
            - "192.168.0.100"
          - name: "PowerSwitchLogin"
            values: 
            - "admin"
          - name: "PowerSwitchPassword"
            values:
            - "1234"
          - name: "polled_attr"
            values:
            - "simulationMode"
            - "3000"
  - name: "powerswitch-002"
    classes:
    - name: "PowerSwitch"
      devices:
      - name: "mid_csp_cbf/power_switch/002"
        properties:
          - name: "PowerSwitchModel"
            values:
            - "Server Technology Switched PRO2"
          - name: "PowerSwitchIp"
            values:
            - "192.168.1.254"
          - name: "PowerSwitchLogin"
            values: 
            - "admn"
          - name: "PowerSwitchPassword"
            values:
            - "admn-1-Psi"
          - name: "polled_attr"
            values:
            - "simulationMode"
            - "3000"
  - name: "powerswitch-003"
    classes:
    - name: "PowerSwitch"
      devices:
      - name: "mid_csp_cbf/power_switch/003"
        properties:
          - name: "PowerSwitchModel"
            values:
            - "APC AP8681"
          - name: "PowerSwitchIp"
            values:
            - "192.168.1.253"
          - name: "PowerSwitchLogin"
            values: 
            - "apc"
          - name: "PowerSwitchPassword"
            values:
            - "apc"
          - name: "polled_attr"
            values:
            - "simulationMode"
            - "3000"
image:
  registry: "{{.Values.midcbf.image.registry}}"
  image: "{{.Values.midcbf.image.image}}"
  tag: "{{.Values.midcbf.image.tag}}"
  pullPolicy: "{{.Values.midcbf.image.pullPolicy}}"
@startuml
'https://plantuml.com/sequence-diagram

skinparam backgroundColor #EEEBDC
skinparam sequence {
    ParticipantBorderColor DodgerBlue
    ParticipantBackgroundColor DeepSkyBlue
    ActorBorderColor DarkGreen
    ActorBackgroundColor Green
    BoxBorderColor LightBlue
    BoxBackgroundColor #F0FFFF
}
skinparam collections {
    BackGroundColor LightBlue
    BorderColor DodgerBlue
}

title MCS Correlation Add Receptors\n

participant "TMC\n" as tmc #Gold
participant "CSP_Mid\n.LMC" as lmc #Thistle
box "\nMCS\n"
    participant "Mid.CBF\nController" as controller
    participant "Mid.CBF\nSubarray" as subarray
    collections "VCC\n" as vcc
    collections "FSP\n" as fsp
    collections "Talon\nBoard" as talon
    collections "FSP Corr\nSubarray" as fspcorr
    participant "Visibility\nTransport" as vis_trans
end box
box "\nHPS\n" 
    participant "VCC\nController" as vcc_cont
    participant "VCC\nBand1&2" as vcc_band
    participant "FSP\nController" as fsp_cont
    participant "FSP Corr\nController" as fspcorr_cont
end box

lmc         ->  subarray    : AddReceptors(list[str])

vcc         ->  vcc         : Update\nsubarrayMembership
talon       ->  talon       : Update\nsubarrayID
note over vcc               : OpState: ON
subarray    ->  subarray    : Update\nreceptors
note over subarray          : ObsState: RESOURCING

note over subarray          : ObsState: IDLE


lmc        <--  subarray     : Success

@enduml